{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":".md-typeset h1, .md-content__button { display: none; }","title":"Home"},{"location":"machines/template/","text":".md-typeset h1, .md-content__button { display: none; } Difficulty : Easy Operating System : Linux Rating : 4.2 Release Date : 25-07-2021 Author : ejedev User: <md5> Root: <md5> Description This machine... Enumeration Foothold Lateral Movement Privilege Escalation","title":"Template"},{"location":"machines/template/#description","text":"This machine...","title":"Description"},{"location":"machines/template/#enumeration","text":"","title":"Enumeration"},{"location":"machines/template/#foothold","text":"","title":"Foothold"},{"location":"machines/template/#lateral-movement","text":"","title":"Lateral Movement"},{"location":"machines/template/#privilege-escalation","text":"","title":"Privilege Escalation"},{"location":"tools/htbenum/","text":".md-typeset h1, .md-content__button { display: none; } Enumeration Script This tool will help us to carry out a first basic enumeration to a Hack The Box machine. The functions it performs are the following: checkvpn Check if the vpn is on checkping Check that we can ping our target machine createfolder Make working directory addhost Add the name of the machine and ip to /etc/hosts scan Nmap scan webinfo If port 80 or 443 is detected, launch whatweb for info and curl to extract http headers HTBenum.sh #!/bin/bash # HTB Enumeration Script # LoRKa .- command -v nmap >/dev/null 2 > & 1 || { echo -e > & 2 \"[\\e[1;31m!\\e[0m] You need \\e[1;32mnmap\\e[0m , please install it.\" ; exit 1 ; } command -v whatweb >/dev/null 2 > & 1 || { echo -e > & 2 \"[\\e[1;31m!\\e[0m] You need \\e[1;32mwhatweb\\e[0m , please install it.\" ; exit 1 ; } command -v curl >/dev/null 2 > & 1 || { echo -e > & 2 \"[\\e[1;31m!\\e[0m] You need \\e[1;32mcurl\\e[0m , please install it.\" ; exit 1 ; } if [ \" $# \" -ne \"2\" ] || [ \" $# \" -gt \"2\" ] ; then echo \"[+] Use: $( basename $0 ) machineNAME machineIP\" echo \"[+] Exp: $( basename $0 ) Armageddon 10.10.10.233\" exit -1 fi trap '/bin/rm -rf \"$TMPFILE\"' EXIT #Vars NAME = \" $1 \" IP = \" $2 \" TMPFILE = $( mktemp ) FOLDER = \"/root/Machines/ $NAME \" #Functions checkvpn (){ ip -4 a show tun0 1 >/dev/null 2 >/dev/null if [ $? -ne 0 ] ; then printf '%s\\n' \"[!] ERROR: la VPN no esta conectada :(\" exit -1 fi } checkping (){ timeout 0 .3 ping -c1 $IP 1 >/dev/null 2 >/dev/null if [ $? -ne 0 ] ; then printf '%s\\n' \"[!] ERROR: la ip $IP no contesta a ping :(\" exit -1 fi } createfolder (){ if [ -d \" $FOLDER \" ] ; then printf '%s\\n' \"[!] Cuidado! el directorio $FOLDER existe!\" exit 1 fi mkdir -p $FOLDER } addhost (){ local HOSTSFILE = \"/etc/hosts\" local HOSTNAME = \" $NAME .htb\" local IP = \" $IP \" local LINE = \" $IP \\t $HOSTNAME \" if [ -n \" $( grep $HOSTNAME $HOSTSFILE ) \" ] then printf '%s\\n' \"[!] $HOSTNAME ya existe en $HOSTSFILE : $( grep $HOSTNAME $HOSTSFILE ) \" else sh -c -e \"echo ' $LINE ' >> $HOSTSFILE \" ; if [ -n \" $( grep $HOSTNAME $HOSTSFILE ) \" ] then : else printf '%s\\n' \"[+] Error al agregar $HOSTNAME , prueba de nuevo!\" ; fi fi } scan (){ /usr/bin/nmap -p- -sS --min-rate 5000 --open -vvv -n -Pn -oG $TMPFILE $IP local PORTS = $( /bin/cat $TMPFILE | grep -oP '\\d{1,5}/open' | awk '{print $1}' FS = '/' | xargs | tr ' ' ',' ) /usr/bin/nmap -sC -sV -p $PORTS -oN $FOLDER /nmap.txt $IP } webinfo (){ local OUTPUT = \" $FOLDER /webinfo.txt\" if cat $TMPFILE | grep -oP '\\d{1,5}/open' | awk '{print $1}' FS = '/' | grep -w '80' ; then whatweb http:// $NAME .htb >> $OUTPUT echo \"\" >> $OUTPUT curl -s -I -X GET http:// $NAME .htb >> $OUTPUT elif cat $TMPFILE | grep -oP '\\d{1,5}/open' | awk '{print $1}' FS = '/' | grep -w '443' ; then whatweb https:// $NAME .htb >> $OUTPUT echo \"\" >> $OUTPUT curl -s -k -I -X GET https:// $NAME .htb >> $OUTPUT fi } #RunAway checkvpn checkping createfolder addhost scan webinfo","title":"HTBenum"},{"location":"tools/htbenum/#enumeration-script","text":"This tool will help us to carry out a first basic enumeration to a Hack The Box machine. The functions it performs are the following: checkvpn Check if the vpn is on checkping Check that we can ping our target machine createfolder Make working directory addhost Add the name of the machine and ip to /etc/hosts scan Nmap scan webinfo If port 80 or 443 is detected, launch whatweb for info and curl to extract http headers HTBenum.sh #!/bin/bash # HTB Enumeration Script # LoRKa .- command -v nmap >/dev/null 2 > & 1 || { echo -e > & 2 \"[\\e[1;31m!\\e[0m] You need \\e[1;32mnmap\\e[0m , please install it.\" ; exit 1 ; } command -v whatweb >/dev/null 2 > & 1 || { echo -e > & 2 \"[\\e[1;31m!\\e[0m] You need \\e[1;32mwhatweb\\e[0m , please install it.\" ; exit 1 ; } command -v curl >/dev/null 2 > & 1 || { echo -e > & 2 \"[\\e[1;31m!\\e[0m] You need \\e[1;32mcurl\\e[0m , please install it.\" ; exit 1 ; } if [ \" $# \" -ne \"2\" ] || [ \" $# \" -gt \"2\" ] ; then echo \"[+] Use: $( basename $0 ) machineNAME machineIP\" echo \"[+] Exp: $( basename $0 ) Armageddon 10.10.10.233\" exit -1 fi trap '/bin/rm -rf \"$TMPFILE\"' EXIT #Vars NAME = \" $1 \" IP = \" $2 \" TMPFILE = $( mktemp ) FOLDER = \"/root/Machines/ $NAME \" #Functions checkvpn (){ ip -4 a show tun0 1 >/dev/null 2 >/dev/null if [ $? -ne 0 ] ; then printf '%s\\n' \"[!] ERROR: la VPN no esta conectada :(\" exit -1 fi } checkping (){ timeout 0 .3 ping -c1 $IP 1 >/dev/null 2 >/dev/null if [ $? -ne 0 ] ; then printf '%s\\n' \"[!] ERROR: la ip $IP no contesta a ping :(\" exit -1 fi } createfolder (){ if [ -d \" $FOLDER \" ] ; then printf '%s\\n' \"[!] Cuidado! el directorio $FOLDER existe!\" exit 1 fi mkdir -p $FOLDER } addhost (){ local HOSTSFILE = \"/etc/hosts\" local HOSTNAME = \" $NAME .htb\" local IP = \" $IP \" local LINE = \" $IP \\t $HOSTNAME \" if [ -n \" $( grep $HOSTNAME $HOSTSFILE ) \" ] then printf '%s\\n' \"[!] $HOSTNAME ya existe en $HOSTSFILE : $( grep $HOSTNAME $HOSTSFILE ) \" else sh -c -e \"echo ' $LINE ' >> $HOSTSFILE \" ; if [ -n \" $( grep $HOSTNAME $HOSTSFILE ) \" ] then : else printf '%s\\n' \"[+] Error al agregar $HOSTNAME , prueba de nuevo!\" ; fi fi } scan (){ /usr/bin/nmap -p- -sS --min-rate 5000 --open -vvv -n -Pn -oG $TMPFILE $IP local PORTS = $( /bin/cat $TMPFILE | grep -oP '\\d{1,5}/open' | awk '{print $1}' FS = '/' | xargs | tr ' ' ',' ) /usr/bin/nmap -sC -sV -p $PORTS -oN $FOLDER /nmap.txt $IP } webinfo (){ local OUTPUT = \" $FOLDER /webinfo.txt\" if cat $TMPFILE | grep -oP '\\d{1,5}/open' | awk '{print $1}' FS = '/' | grep -w '80' ; then whatweb http:// $NAME .htb >> $OUTPUT echo \"\" >> $OUTPUT curl -s -I -X GET http:// $NAME .htb >> $OUTPUT elif cat $TMPFILE | grep -oP '\\d{1,5}/open' | awk '{print $1}' FS = '/' | grep -w '443' ; then whatweb https:// $NAME .htb >> $OUTPUT echo \"\" >> $OUTPUT curl -s -k -I -X GET https:// $NAME .htb >> $OUTPUT fi } #RunAway checkvpn checkping createfolder addhost scan webinfo","title":"Enumeration Script "}]}